<% content_for :title, t('layouts.home.print') %>
<%= simple_form_for(@print) do |f| %>
  <%= f.error_notification %>

  <% if @print.file_cache %>
    <%= f.label :file %>
    <%= '.uploaded' %>: <%= @print.file_name %>
    <%= f.input :file_name, as: :hidden %>
    <%= f.input :file_cache, as: :hidden %>
  <% else %>
    <%= f.input :file, as: :file %>
  <% end %>

  <%= f.input :printer do %>
    <%= f.select :printer, Printer.weighted.map { |p| [p.name, p.name, { data: { media: p.media, location: p.location } }] } %>
  <% end %>

  <div class="suggestions">
    <%= f.label t('.suggestions') %>
    <ol class="printer-list">
      <% Printer.weighted.limit(10).each do |p| %>
        <li><%= link_to p.name, 'javascript:;', class: 'set-printer'  %></li>
      <% end %>
    </ol>
  </div>

  <%= f.input :duplex, as: :boolean, input_html: { checked: true } %>

  <div class="row">
    <div class="small-12 medium-6 columns">
      <%= f.input :copies, as: :integer, input_html: { min: 1 } %>
    </div>
    <div class="small-12 medium-6 columns">
      <%= f.input :ranges %>
    </div>
  </div>

  <div class="row">
    <div class="small-12 medium-6 columns">
      <%= f.input :media, collection: ['A4'] %>
    </div>
    <div class="small-12 medium-6 columns">
      <%= f.input :ppi, collection: Print.available_ppi, prompt: false %>
    </div>
  </div>





  <fieldset>
    <legend><%= t '.user' %></legend>
    <%= f.input :username %>

    <%= f.input :password %>
  </fieldset>
  <%= f.button :submit, t('layouts.home.print') %>
<% end %>
